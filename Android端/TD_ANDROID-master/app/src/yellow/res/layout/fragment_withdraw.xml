<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:tools="http://schemas.android.com/tools"
        xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto">

    <data>

        <import type="android.view.View"/>

        <import type="com.xhd.td.utils.BindingUtilsKt"/>

        <import type="com.xhd.td.model.bean.Bank"/>

        <variable
                name="fragment"
                type="com.xhd.td.ui.income.WithdrawFragment"/>

        <variable
                name="viewModel"
                type="com.xhd.td.vm.income.WithdrawVM"/>

        <variable
                name="bean"
                type="Bank"/>
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:background="@color/white"

            tools:context=".ui.income.WithdrawFragment">

        <include layout="@layout/title_bar"/>

        <androidx.constraintlayout.widget.ConstraintLayout
                android:id="@+id/layout_bind_wechat_change"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_margin="16dp"
                android:padding="8dp"
                android:visibility="@{fragment.MDisplayWechatBind?View.GONE:View.VISIBLE}"
                android:background="@drawable/withdraw_card_bg"
                android:onClick="@{()->fragment.bindWechatChange()}"
                app:layout_constraintTop_toBottomOf="@+id/toolBar">


            <ImageView
                    android:id="@+id/img_wechat_pay"
                    android:layout_width="30dp"
                    android:layout_height="30dp"
                    android:src="@drawable/ic_withdraw_wechat"
                    app:layout_constraintBottom_toBottomOf="@+id/tv_wechat_pay_tip"
                    app:layout_constraintTop_toTopOf="@+id/tv_wechat_pay"
                    app:layout_constraintStart_toStartOf="parent"
                    android:layout_marginStart="12dp"
                    />

            <TextView
                    android:id="@+id/tv_wechat_pay"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginStart="15dp"
                    android:text="微信零钱"
                    android:textColor="@color/textColorPrimary"
                    android:textSize="@dimen/sp_16"
                    app:layout_constraintLeft_toRightOf="@+id/img_wechat_pay"
                    app:layout_constraintVertical_bias="0.3"
                    app:layout_constraintTop_toTopOf="parent"
                    app:layout_constraintBottom_toBottomOf="parent"/>

            <TextView
                    android:id="@+id/tv_wechat_pay_tip"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="元起提，实时到账"
                    android:textColor="@color/tv_color"
                    android:textSize="@dimen/sp_13"
                    app:layout_constraintLeft_toLeftOf="@+id/tv_wechat_pay"
                    app:layout_constraintTop_toBottomOf="@+id/tv_wechat_pay"/>


            <Button
                    android:layout_width="60dp"
                    android:layout_height="25dp"
                    android:layout_margin="15dp"
                    app:layout_constraintTop_toTopOf="parent"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintEnd_toEndOf="parent"
                    android:onClick="@{()->fragment.bindWechatChange()}"
                    android:text="点击绑定"
                    android:textSize="12sp"
                    android:textColor="@color/textColorPrimary"
                    android:background="@drawable/stroke_white"
                    />


        </androidx.constraintlayout.widget.ConstraintLayout>


        <TextView
                android:id="@+id/tv_withdraw_tip"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="16dp"
                android:text="提现至"
                android:textColor="@color/textColorPrimary"
                android:textSize="@dimen/sp_18"
                android:layout_marginTop="20dp"
                app:layout_constraintLeft_toLeftOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/layout_bind_wechat_change"
                app:layout_constraintVertical_chainStyle="packed"/>


        <androidx.constraintlayout.widget.ConstraintLayout
                android:id="@+id/layout_card_type"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_marginStart="25dp"
                android:layout_marginEnd="18dp"
                android:onClick="@{()->fragment.selectCard()}"
                app:layout_constraintStart_toEndOf="@+id/tv_withdraw_tip"
                app:layout_constraintTop_toTopOf="@+id/tv_withdraw_tip"
                app:layout_constraintEnd_toEndOf="parent"
                >

            <TextView
                    android:id="@+id/tv_card_type"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    app:layout_constraintTop_toTopOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    android:text="@{bean.bankName}"
                    android:textColor="@color/textColorPrimary"
                    android:textSize="@dimen/sp_18"
                    android:drawableStart="@{bean.isPublic() == 2?@drawable/ic_withdraw_wechat : @drawable/ic_withdraw_bank }"
                    android:drawablePadding="8dp"/>


            <ImageView
                    android:id="@+id/img_wechat_avatar"
                    android:layout_width="20dp"
                    android:layout_height="20dp"
                    android:layout_marginTop="8dp"
                    android:visibility="@{bean.isPublic() == 2?View.VISIBLE : View.INVISIBLE }"
                    app:layout_constraintStart_toStartOf="@+id/tv_card_type"
                    app:layout_constraintTop_toBottomOf="@+id/tv_card_type"/>

            <TextView
                    android:id="@+id/tv_card_content"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    app:layout_constraintTop_toTopOf="@+id/img_wechat_avatar"
                    app:layout_constraintStart_toEndOf="@+id/img_wechat_avatar"
                    android:layout_marginStart="8dp"
                    android:textColor="@color/tv_color"
                    android:text="微信昵称"
                    android:textSize="@dimen/sp_16"/>


            <ImageView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintTop_toTopOf="parent"
                    app:layout_constraintBottom_toBottomOf="parent"
                    android:src="@drawable/vector_back_dark_small"
                    android:contentDescription="点击绑定微信零钱"/>


        </androidx.constraintlayout.widget.ConstraintLayout>

<!--        <TextView-->
<!--                android:id="@+id/tv_withdraw_rule"-->
<!--                android:layout_width="match_parent"-->
<!--                android:layout_height="wrap_content"-->
<!--                android:layout_marginTop="25dp"-->
<!--                android:layout_marginLeft="16dp"-->
<!--                android:layout_marginRight="16dp"-->
<!--                android:textColor="@color/tv_color"-->
<!--                android:textSize="10sp"-->
<!--                android:drawablePadding="5dp"-->
<!--                android:drawableStart="@drawable/shape_dot"-->
<!--                app:layout_constraintTop_toBottomOf="@+id/layout_card_type"-->
<!--                tools:layout_editor_absoluteX="16dp"/>-->


<!--        <TextView-->
<!--                android:id="@+id/tv_withdraw_arrival_time"-->
<!--                android:layout_width="match_parent"-->
<!--                android:layout_height="wrap_content"-->
<!--                android:layout_marginTop="5dp"-->
<!--                android:layout_marginLeft="16dp"-->
<!--                android:layout_marginRight="16dp"-->
<!--                android:text="@{@string/with_draw_hint + viewModel.MWithDrawHint}"-->
<!--                android:drawablePadding="5dp"-->
<!--                android:textColor="@color/tv_color"-->
<!--                android:textSize="10sp"-->
<!--                android:drawableStart="@drawable/shape_dot"-->
<!--                app:layout_constraintTop_toBottomOf="@+id/tv_withdraw_rule"-->
<!--                tools:layout_editor_absoluteX="16dp"/>-->


        <LinearLayout
                android:id="@+id/layout_withdraw_hint"
                android:orientation="vertical"
                android:layout_marginTop="25dp"
                android:layout_marginLeft="16dp"
                android:layout_marginRight="16dp"
                app:layout_constraintTop_toBottomOf="@+id/layout_card_type"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">

        </LinearLayout>


        <View
                android:id="@+id/line1"
                android:layout_width="match_parent"
                android:layout_height="0.5dp"
                android:layout_marginLeft="16dp"
                android:layout_marginTop="16dp"
                android:layout_marginRight="16dp"
                android:background="@color/tv_hint"
                app:layout_constraintTop_toBottomOf="@+id/layout_withdraw_hint"/>


        <TextView
                android:id="@+id/tv_total_cash"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="16dp"
                android:layout_marginTop="16dp"
                android:text="可提现金额：0.00元"
                android:textColor="@color/tv_color"
                android:textSize="@dimen/sp_15"
                app:layout_constraintLeft_toLeftOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/line1"/>

        <TextView
                android:id="@+id/tv_yuan_hint"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="16dp"
                android:text="¥"
                android:textColor="@color/tv_black"
                android:textSize="@dimen/sp_30"
                app:layout_constraintLeft_toLeftOf="@+id/tv_total_cash"
                app:layout_constraintTop_toBottomOf="@+id/tv_total_cash"/>

        <EditText
                android:id="@+id/tv_input_cash"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_marginStart="10dp"
                android:layout_marginEnd="16dp"
                android:background="@null"
                android:hint="@string/withdraw_input_hint"

                android:inputType="numberDecimal"
                android:textSize="20sp"
                app:layout_constraintBottom_toBottomOf="@+id/tv_yuan_hint"
                app:layout_constraintLeft_toRightOf="@+id/tv_yuan_hint"
                app:layout_constraintRight_toRightOf="parent"
                app:layout_constraintTop_toTopOf="@+id/tv_yuan_hint"/>

        <Button
                android:id="@+id/tv_withdraw_all"
                style="@style/Base.Widget.AppCompat.Button.Borderless"
                android:layout_width="67dp"
                android:layout_height="30dp"
                android:layout_marginRight="16dp"
                android:background="@drawable/stroke_white"
                android:text="全部提现"
                android:textColor="@color/tv_black"
                android:textSize="@dimen/sp_12"
                app:layout_constraintRight_toRightOf="parent"
                app:layout_constraintTop_toTopOf="@+id/tv_total_cash"
                app:layout_constraintBottom_toBottomOf="@+id/tv_total_cash"/>

        <View
                android:id="@+id/line"
                android:layout_width="match_parent"
                android:layout_height="0.5dp"
                android:layout_marginLeft="16dp"
                android:layout_marginTop="16dp"
                android:layout_marginRight="16dp"
                android:background="@color/tv_hint"
                app:layout_constraintTop_toBottomOf="@+id/tv_yuan_hint"/>

        <TextView
                android:id="@+id/tv_frozen_money"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="16dp"
                android:layout_marginTop="10dp"
                android:drawableStart="@drawable/ic_hint"
                android:drawablePadding="4dp"
                android:text="冻结金额"
                android:textColor="#bdbdbd"
                android:visibility="visible"
                android:textSize="10sp"
                app:layout_constraintLeft_toLeftOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/line"/>

        <TextView
                android:id="@+id/tv_withdraw_fee"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_marginTop="10dp"
                android:drawableStart="@drawable/ic_hint"
                android:drawablePadding="4dp"
                android:textColor="#bdbdbd"
                android:textSize="10sp"
                android:layout_marginStart="16dp"
                android:layout_marginEnd="16dp"
                android:visibility="invisible"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/tv_frozen_money" />

        <!--<Button-->
                <!--android:id="@+id/btn_cancel"-->
                <!--style="@style/Base.Widget.AppCompat.Button.Borderless"-->
                <!--android:layout_width="120dp"-->
                <!--android:layout_height="42dp"-->
                <!--android:layout_marginRight="16dp"-->
                <!--android:background="@drawable/stroke_white"-->
                <!--android:onClick="@{()->fragment.close()}"-->
                <!--android:text="取消"-->
                <!--android:textColor="@color/tv_black"-->
                <!--android:textSize="@dimen/sp_18"-->
                <!--app:layout_constraintBottom_toBottomOf="parent"-->
                <!--app:layout_constraintHorizontal_chainStyle="packed"-->
                <!--app:layout_constraintLeft_toLeftOf="parent"-->
                <!--app:layout_constraintRight_toLeftOf="@+id/toWithDraw"-->
                <!--app:layout_constraintTop_toBottomOf="@+id/tv_withdraw_rule"/>-->

        <Button
                android:id="@+id/toWithDraw"
                style="@style/Base.Widget.AppCompat.Button.Borderless"
                android:layout_width="120dp"
                android:layout_height="42dp"
                android:layout_marginTop="30dp"
                android:background="@color/btn"
                android:onClick="@{()->fragment.startWithdraw()}"
                android:text="立即提现"
                android:textColor="@color/select_text_color"
                android:textSize="@dimen/sp_18"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/tv_withdraw_fee"

                />



        <androidx.constraintlayout.widget.ConstraintLayout
                android:id="@+id/layout_no_card"
                android:layout_width="match_parent"
                android:layout_height="0dp"
                android:background="@color/white"
                android:visibility="@{fragment.MCardAmount!=0?View.GONE:View.VISIBLE}"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/toolBar"
                tools:visibility="invisible">

            <ImageView
                    android:id="@+id/no_card"
                    android:layout_width="100dp"
                    android:layout_height="100dp"
                    android:scaleType="fitXY"
                    android:src="@drawable/icon_no_card"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintLeft_toLeftOf="parent"
                    app:layout_constraintRight_toRightOf="parent"
                    app:layout_constraintTop_toTopOf="parent"
                    app:layout_constraintVertical_bias="0.3" />

            <TextView
                    android:id="@+id/noCard"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="12dp"
                    android:text="您当前还没有银行卡信息"
                    android:textColor="@color/tv_color"
                    android:textSize="@dimen/sp_16"
                    app:layout_constraintLeft_toLeftOf="@+id/no_card"
                    app:layout_constraintRight_toRightOf="@+id/no_card"
                    app:layout_constraintTop_toBottomOf="@+id/no_card" />

            <Button
                    android:id="@+id/addBank"
                    style="@style/Widget.AppCompat.Button.Borderless"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:onClick="@{()->fragment.addCard()}"
                    android:text="添加银行卡"
                    android:background="@drawable/btn220"
                    android:textColor="@color/select_text_color"
                    android:textSize="@dimen/sp_18"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintLeft_toLeftOf="parent"
                    app:layout_constraintRight_toRightOf="parent"
                    app:layout_constraintTop_toBottomOf="@+id/noCard"
                    app:layout_constraintVertical_bias="0.3"
                    tools:visibility="visible"/>
        </androidx.constraintlayout.widget.ConstraintLayout>


        <include
                layout="@layout/layout_pb"
                app:pbEnable="@{viewModel.isLoading}"
                tools:layout_editor_absoluteY="50dp"
                tools:layout_editor_absoluteX="89dp"/>


    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>